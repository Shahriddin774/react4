{"ast":null,"code":"var _jsxFileName = \"C:\\\\geeks4ReactDZ\\\\dz\\\\src\\\\pages\\\\postsPage\\\\PostsPage.jsx\",\n  _s = $RefreshSig$();\nimport { useForm } from \"react-hook-form\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport PostForm from \"../../components/PostForm\";\nimport PostList from \"../../components/PostList\";\nimport PostDetails from \"../../components/PostDetails\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PostsPage() {\n  _s();\n  const {\n    handleSubmit,\n    register,\n    reset\n  } = useForm();\n  const [posts, setPosts] = useState([]);\n  const [post, setPost] = useState({});\n  useEffect(() => {\n    getPosts();\n  }, []);\n  async function getPosts() {\n    const response = await axios.get(\"http://localhost:3005/posts\");\n    setPosts(response.data);\n  }\n  async function submit(values) {\n    const response = await axios.post(\"http://localhost:3005/posts\", values);\n    reset();\n    getPosts();\n  }\n  async function deletePost(id) {\n    const response = await axios.delete(`http://localhost:3005/posts/${id}`);\n    getPosts();\n  }\n  async function getOnePost(id) {\n    const response = await axios.get(`http://localhost:3005/posts/${id}`);\n    setPost(response.data);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Posts list\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PostForm, {\n      onSubmit: handleSubmit(submit),\n      register: register\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PostList, {\n      posts: posts,\n      deletePost: deletePost,\n      getOnePost: getOnePost\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PostDetails, {\n      post: post\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n_s(PostsPage, \"GoSrlbIh2XEpexD6L3eRWiJZ5XQ=\", false, function () {\n  return [useForm];\n});\n_c = PostsPage;\nexport default PostsPage;\nvar _c;\n$RefreshReg$(_c, \"PostsPage\");","map":{"version":3,"names":["useForm","useEffect","useState","axios","PostForm","PostList","PostDetails","jsxDEV","_jsxDEV","PostsPage","_s","handleSubmit","register","reset","posts","setPosts","post","setPost","getPosts","response","get","data","submit","values","deletePost","id","delete","getOnePost","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","_c","$RefreshReg$"],"sources":["C:/geeks4ReactDZ/dz/src/pages/postsPage/PostsPage.jsx"],"sourcesContent":["import { useForm } from \"react-hook-form\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport PostForm from \"../../components/PostForm\";\r\nimport PostList from \"../../components/PostList\";\r\nimport PostDetails from \"../../components/PostDetails\";\r\n\r\nfunction PostsPage() {\r\n    const { handleSubmit, register, reset } = useForm();\r\n    const [posts, setPosts] = useState([]);\r\n    const [post, setPost] = useState({});\r\n\r\n    useEffect(() => {\r\n        getPosts();\r\n    }, []);\r\n\r\n    async function getPosts() {\r\n        const response = await axios.get(\"http://localhost:3005/posts\");\r\n        setPosts(response.data);\r\n    }\r\n\r\n    async function submit(values) {\r\n        const response = await axios.post(\"http://localhost:3005/posts\", values);\r\n        reset();\r\n        getPosts();\r\n    }\r\n\r\n    async function deletePost(id) {\r\n        const response = await axios.delete(`http://localhost:3005/posts/${id}`);\r\n        getPosts();\r\n    }\r\n\r\n    async function getOnePost(id) {\r\n        const response = await axios.get(`http://localhost:3005/posts/${id}`);\r\n        setPost(response.data);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Posts list</h2>\r\n            <PostForm onSubmit={handleSubmit(submit)} register={register} />\r\n            <PostList posts={posts} deletePost={deletePost} getOnePost={getOnePost} />\r\n            <PostDetails post={post} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostsPage;\r\n"],"mappings":";;AAAA,SAASA,OAAO,QAAQ,iBAAiB;AACzC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,WAAW,MAAM,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAM;IAAEC,YAAY;IAAEC,QAAQ;IAAEC;EAAM,CAAC,GAAGb,OAAO,CAAC,CAAC;EACnD,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACZiB,QAAQ,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeA,QAAQA,CAAA,EAAG;IACtB,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,6BAA6B,CAAC;IAC/DL,QAAQ,CAACI,QAAQ,CAACE,IAAI,CAAC;EAC3B;EAEA,eAAeC,MAAMA,CAACC,MAAM,EAAE;IAC1B,MAAMJ,QAAQ,GAAG,MAAMhB,KAAK,CAACa,IAAI,CAAC,6BAA6B,EAAEO,MAAM,CAAC;IACxEV,KAAK,CAAC,CAAC;IACPK,QAAQ,CAAC,CAAC;EACd;EAEA,eAAeM,UAAUA,CAACC,EAAE,EAAE;IAC1B,MAAMN,QAAQ,GAAG,MAAMhB,KAAK,CAACuB,MAAM,CAAC,+BAA+BD,EAAE,EAAE,CAAC;IACxEP,QAAQ,CAAC,CAAC;EACd;EAEA,eAAeS,UAAUA,CAACF,EAAE,EAAE;IAC1B,MAAMN,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,+BAA+BK,EAAE,EAAE,CAAC;IACrER,OAAO,CAACE,QAAQ,CAACE,IAAI,CAAC;EAC1B;EAEA,oBACIb,OAAA;IAAAoB,QAAA,gBACIpB,OAAA;MAAAoB,QAAA,EAAI;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACnBxB,OAAA,CAACJ,QAAQ;MAAC6B,QAAQ,EAAEtB,YAAY,CAACW,MAAM,CAAE;MAACV,QAAQ,EAAEA;IAAS;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAChExB,OAAA,CAACH,QAAQ;MAACS,KAAK,EAAEA,KAAM;MAACU,UAAU,EAAEA,UAAW;MAACG,UAAU,EAAEA;IAAW;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC1ExB,OAAA,CAACF,WAAW;MAACU,IAAI,EAAEA;IAAK;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1B,CAAC;AAEd;AAACtB,EAAA,CAtCQD,SAAS;EAAA,QAC4BT,OAAO;AAAA;AAAAkC,EAAA,GAD5CzB,SAAS;AAwClB,eAAeA,SAAS;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}